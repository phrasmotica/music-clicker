[gd_scene load_steps=5 format=3 uid="uid://bsho3man5rnyv"]

[ext_resource type="PackedScene" uid="uid://c1e4wtqckp844" path="res://scenes/score_manager.tscn" id="1_2j3m2"]
[ext_resource type="Script" uid="uid://cn0snp6hbku0f" path="res://scripts/game.gd" id="1_vef74"]
[ext_resource type="Script" uid="uid://dk7g2nn2chkel" path="res://scripts/product_router.gd" id="3_khcq3"]
[ext_resource type="PackedScene" uid="uid://cyoqo21jvvf6k" path="res://scenes/game_ui.tscn" id="4_fc0e3"]

[node name="Game" type="Node2D"]
script = ExtResource("1_vef74")

[node name="ScoreManager" parent="." instance=ExtResource("1_2j3m2")]
starting_score = 100

[node name="ProductRouter" type="Node" parent="."]
script = ExtResource("3_khcq3")
amounts = Dictionary[int, int]({
0: 1,
1: 1,
2: 1,
3: 1
})

[node name="GameUI" parent="." instance=ExtResource("4_fc0e3")]

[connection signal="ready" from="." to="ScoreManager" method="_on_game_ready"]
[connection signal="product_automated" from="ScoreManager" to="GameUI" method="_on_score_manager_product_automated"]
[connection signal="product_bought" from="ScoreManager" to="ProductRouter" method="_on_score_manager_product_bought"]
[connection signal="score_changed" from="ScoreManager" to="GameUI" method="_on_score_manager_score_changed"]
[connection signal="bought_product" from="ProductRouter" to="GameUI" method="_on_product_router_bought_product"]
[connection signal="automate_product" from="GameUI" to="ScoreManager" method="_on_game_ui_automate_product"]
[connection signal="buy_product" from="GameUI" to="ScoreManager" method="_on_game_ui_buy_product"]
[connection signal="made_product" from="GameUI" to="ScoreManager" method="_on_game_ui_made_product"]
